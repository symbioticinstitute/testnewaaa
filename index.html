<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mathematics Proficiency Test</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        :root {
            --primary: #1a4b8c;
            --accent: #4caf50;
            --secondary: #d32f2f;
            --bg-light: #f5f7fa;
            --dark: #1f2937;
            --white: #ffffff;
            --gray-600: #4b5563;
            --light-blue: #e3f2fd;
            --light-green: #e8f5e9;
            --light-pink: #fce4ec;
            --yellow: #fff9c4;
            --orange: #ffecb3;
            --purple: #f3e5f5;
            --gold: #ffd54f;
            --blue: #42a5f5;
            --red: #ef5350;
            --success: #388e3c;
            --error: #d32f2f;
        }

        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
        }

        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background: var(--bg-light); 
            color: var(--dark); 
            line-height: 1.6;
            position: relative;
            overflow-x: hidden;
            min-height: 100vh;
            background-image: linear-gradient(135deg, #f5f7fa 0%, #e4edf5 100%);
        }

        /* Header */
        header { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            padding: 20px 40px; 
            background: rgba(255,255,255,0.95); 
            backdrop-filter: blur(20px);
            position: sticky; 
            top: 0; 
            z-index: 100; 
            box-shadow: 0 2px 20px rgba(0,0,0,0.1);
            border-bottom: 3px solid var(--primary);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo-icon {
            background: var(--primary);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .logo-text {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary);
        }

        .logo-subtitle {
            font-size: 14px;
            color: var(--accent);
            font-weight: 600;
            letter-spacing: 0.5px;
        }

        /* Main Container */
        .container {
            display: flex;
            max-width: 1400px;
            margin: 30px auto;
            gap: 25px;
            padding: 0 20px;
            min-height: 80vh;
        }

        /* Welcome Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 1;
            transition: opacity 0.3s;
        }

        .modal-content {
            background: var(--white);
            border-radius: 20px;
            padding: 40px;
            max-width: 700px;
            width: 90%;
            text-align: center;
            position: relative;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
            transform: scale(1);
            transition: transform 0.3s;
            border: 4px solid var(--accent);
        }

        .modal-title {
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 20px;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: 800;
        }

        .modal-subtitle {
            font-size: 1.2rem;
            color: var(--gray-600);
            margin-bottom: 30px;
            line-height: 1.8;
        }

        .start-btn {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 50px;
            font-size: 1.2rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 5px 20px rgba(27, 100, 17, 0.3);
            margin-top: 20px;
        }

        .start-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(27, 100, 17, 0.4);
        }

        .test-info {
            background: var(--light-blue);
            padding: 20px;
            border-radius: 15px;
            margin-top: 25px;
            text-align: left;
        }

        .info-title {
            font-size: 1.3rem;
            color: var(--primary);
            margin-bottom: 15px;
            text-align: center;
            font-weight: 600;
        }

        .info-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
            padding-bottom: 12px;
            border-bottom: 1px dashed rgba(0,0,0,0.1);
        }

        .info-item:last-child {
            margin-bottom: 0;
            padding-bottom: 0;
            border: none;
        }

        /* Login Screen */
        .login-container {
            width: 100%;
            max-width: 500px;
            margin: 0 auto;
            background: var(--white);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            border: 3px solid var(--primary);
        }

        .login-title {
            text-align: center;
            font-size: 2rem;
            color: var(--primary);
            margin-bottom: 30px;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark);
            font-size: 18px;
        }

        .form-input {
            width: 100%;
            padding: 15px;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            font-size: 1rem;
            transition: border-color 0.3s;
            font-size: 16px;
        }

        .form-input:focus {
            border-color: var(--accent);
            outline: none;
            box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.2);
        }

        .login-btn {
            width: 100%;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white;
            border: none;
            padding: 15px;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 10px;
            box-shadow: 0 5px 15px rgba(27, 100, 17, 0.3);
        }

        .login-btn:disabled {
            background: #e5e7eb;
            cursor: not-allowed;
            box-shadow: none;
        }

        .login-btn:not(:disabled):hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(27, 100, 17, 0.4);
        }

        /* Instructions */
        .instructions-container {
            background: var(--white);
            border-radius: 20px;
            padding: 40px;
            max-width: 800px;
            margin: 0 auto;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            border: 3px solid var(--accent);
        }

        .instructions-title {
            font-size: 2rem;
            color: var(--primary);
            margin-bottom: 25px;
            text-align: center;
        }

        .instructions-list {
            list-style-type: none;
            margin-bottom: 35px;
        }

        .instructions-list li {
            margin-bottom: 15px;
            padding: 15px 15px 15px 60px;
            position: relative;
            font-size: 1.1rem;
            background: var(--light-blue);
            border-radius: 10px;
            font-weight: 500;
        }

        .instructions-list li:before {
            content: "âœ“";
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--accent);
            font-weight: bold;
            font-size: 1.5rem;
            background: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 3px 8px rgba(0,0,0,0.1);
        }

        /* Timer */
        .timer-container {
            display: flex;
            align-items: center;
            gap: 15px;
            background: var(--primary);
            color: white;
            padding: 8px 20px;
            border-radius: 50px;
            font-weight: 600;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
        }

        .timer {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 18px;
        }

        .progress-container {
            width: 200px;
            height: 8px;
            background: #e5e7eb;
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(135deg, var(--accent), #2e7d32);
            width: 100%;
            border-radius: 10px;
            transition: width 0.5s ease;
        }

        /* Questions Panel */
        .questions-panel {
            flex: 1;
            background: var(--white);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            border: 3px solid var(--primary);
        }

        .question-number {
            font-size: 16px;
            color: var(--gray-600);
            margin-bottom: 5px;
            font-weight: 600;
        }

        .question-text {
            font-size: 20px;
            font-weight: 500;
            margin-bottom: 25px;
            line-height: 1.5;
            padding: 15px;
            background: var(--light-blue);
            border-radius: 10px;
            border-left: 4px solid var(--primary);
        }

        .options-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 30px;
        }

        .option {
            padding: 15px 20px;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
            font-size: 18px;
            display: flex;
            align-items: flex-start;
        }

        .option:hover {
            background: var(--light-green);
            border-color: var(--accent);
        }

        .option.selected {
            background: var(--light-green);
            border-color: var(--accent);
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.2);
        }

        .option .option-label {
            display: inline-block;
            width: 35px;
            height: 35px;
            background: #e5e7eb;
            border-radius: 50%;
            text-align: center;
            line-height: 35px;
            margin-right: 15px;
            font-weight: 600;
            flex-shrink: 0;
        }

        .option.selected .option-label {
            background: var(--accent);
            color: white;
        }

        /* Navigation */
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }

        .nav-btn {
            padding: 12px 30px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            border: none;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 16px;
        }

        .nav-btn.prev {
            background: #e5e7eb;
            color: var(--dark);
        }

        .nav-btn.next {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white;
            box-shadow: 0 4px 15px rgba(26, 75, 140, 0.3);
        }

        .nav-btn.submit {
            background: linear-gradient(135deg, var(--secondary), #b71c1c);
            color: white;
            box-shadow: 0 4px 15px rgba(211, 47, 47, 0.3);
        }

        .nav-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
        }

        /* Sidebar */
        .sidebar {
            width: 300px;
            background: var(--white);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            align-self: flex-start;
            border: 3px solid var(--accent);
        }

        .sidebar-title {
            font-size: 20px;
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            justify-content: center;
        }

        .question-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
            margin-bottom: 25px;
        }

        .grid-item {
            width: 45px;
            height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            background: #e5e7eb;
            transition: all 0.3s;
            font-size: 16px;
        }

        .grid-item:hover {
            background: var(--accent);
            color: white;
            transform: scale(1.05);
        }

        .grid-item.answered {
            background: var(--accent);
            color: white;
        }

        .grid-item.current {
            background: var(--primary);
            color: white;
            transform: scale(1.1);
            box-shadow: 0 0 0 3px var(--accent);
        }

        .test-info {
            background: var(--light-green);
            padding: 20px;
            border-radius: 15px;
            margin-top: 20px;
        }

        .info-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
            padding-bottom: 12px;
            border-bottom: 1px solid rgba(0,0,0,0.05);
            font-size: 16px;
        }

        .info-item:last-child {
            margin-bottom: 0;
            padding-bottom: 0;
            border: none;
        }

        /* Results Screen */
        .results-container {
            background: var(--white);
            border-radius: 20px;
            padding: 40px;
            max-width: 1000px;
            margin: 50px auto;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            border: 3px solid var(--primary);
        }

        .results-title {
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 20px;
            text-align: center;
        }

        .score-display {
            font-size: 3.5rem;
            font-weight: 800;
            margin: 30px 0;
            text-align: center;
        }

        .score-value {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            display: inline-block;
            padding: 0 20px;
        }

        .solution-section {
            margin-top: 30px;
            padding: 25px;
            background: var(--light-blue);
            border-radius: 15px;
            border-left: 4px solid var(--primary);
        }

        .solution-title {
            font-size: 24px;
            color: var(--primary);
            margin-bottom: 20px;
            text-align: center;
        }

        .solution-content {
            font-size: 18px;
            line-height: 1.7;
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
        }

        .solution-content p {
            margin-bottom: 15px;
        }

        .solution-content .formula {
            font-weight: 600;
            color: var(--primary);
            text-align: center;
            margin: 15px 0;
            padding: 10px;
            background: var(--light-green);
            border-radius: 8px;
        }

        /* Floating shapes */
        .shape { 
            position: absolute; 
            opacity: 0.15; 
            animation: float 6s ease-in-out infinite; 
            z-index: -1;
        }

        .shape.circle { 
            width: 150px; 
            height: 150px; 
            border-radius: 50%; 
            background: var(--accent); 
            top: 10%; 
            left: 5%; 
        }

        .shape.square { 
            width: 120px; 
            height: 120px; 
            background: var(--blue); 
            bottom: 15%; 
            right: 10%; 
            border-radius: 20px;
        }

        .shape.triangle {
            width: 0;
            height: 0;
            border-left: 60px solid transparent;
            border-right: 60px solid transparent;
            border-bottom: 100px solid var(--primary);
            top: 20%;
            right: 20%;
            animation-delay: -2s;
        }

        @keyframes float { 
            0%, 100% { transform: translateY(0) rotate(0deg); } 
            50% { transform: translateY(-20px) rotate(5deg); } 
        }

        /* Responsive */
        @media (max-width: 992px) {
            .container {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
            }
            
            .question-grid {
                grid-template-columns: repeat(8, 1fr);
            }
        }

        @media (max-width: 768px) {
            .modal-title {
                font-size: 2rem;
            }
            
            .login-container, .instructions-container, .results-container {
                padding: 25px;
            }
            
            .navigation {
                flex-direction: column;
                gap: 15px;
            }
            
            .nav-btn {
                width: 100%;
                justify-content: center;
            }
            
            .question-text {
                font-size: 18px;
            }
        }

        @media (max-width: 576px) {
            .question-grid {
                grid-template-columns: repeat(5, 1fr);
            }
            
            header {
                flex-direction: column;
                gap: 15px;
                padding: 15px;
            }
            
            .timer-container {
                justify-content: center;
                width: 100%;
            }
            
            .progress-container {
                width: 150px;
            }
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 20px;
            color: var(--gray-600);
            font-size: 14px;
            margin-top: 30px;
            background: rgba(255,255,255,0.8);
            border-top: 1px solid rgba(0,0,0,0.1);
        }

        /* Loading Spinner */
        .spinner {
            width: 60px;
            height: 60px;
            border: 5px solid rgba(76, 175, 80, 0.2);
            border-top: 5px solid var(--accent);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 40px auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- Floating background shapes -->
    <div class="shape circle"></div>
    <div class="shape square"></div>
    <div class="shape triangle"></div>

    <header>
        <div class="logo">
            <div class="logo-icon">
                <i class="fas fa-calculator"></i>
            </div>
            <div>
                <div class="logo-text">Mathematics Proficiency Test</div>
                <div class="logo-subtitle">By Symbiotic Learning</div>
            </div>
        </div>
        
        <div class="timer-container" id="timerContainer" style="display:none;">
            <div class="timer">
                <i class="fas fa-clock"></i>
                <span id="time">90:00</span>
            </div>
            <div class="progress-container">
                <div class="progress-bar" id="progressBar"></div>
            </div>
        </div>
    </header>
    
    <!-- Welcome Modal -->
    <div class="modal-overlay" id="welcomeModal">
        <div class="modal-content">
            <h1 class="modal-title">Mathematics Proficiency Test</h1>
            <p class="modal-subtitle">This assessment evaluates your understanding across key mathematical domains. Approach with confidenceâ€”this is an opportunity to demonstrate your knowledge and identify areas for growth.</p>
            
            <div class="test-info">
                <div class="info-title">Test Information</div>
                <div class="info-item">
                    <span>Total Questions:</span>
                    <span>50</span>
                </div>
                <div class="info-item">
                    <span>Duration:</span>
                    <span>90 minutes</span>
                </div>
                <div class="info-item">
                    <span>Topics Covered:</span>
                    <span>8 key mathematical domains</span>
                </div>
                <div class="info-item">
                    <span>Scoring:</span>
                    <span>1 mark per question</span>
                </div>
            </div>
            
            <button class="start-btn" id="startBtn">Begin Your Assessment</button>
        </div>
    </div>
    
    <!-- Login Screen -->
    <div class="container" id="loginScreen" style="display:none;">
        <div class="login-container">
            <h2 class="login-title">Candidate Verification</h2>
            <div class="form-group">
                <label class="form-label">Full Name</label>
                <input type="text" class="form-input" id="nameInput" placeholder="Enter your full name">
            </div>
            <div class="form-group">
                <label class="form-label">Access Code</label>
                <input type="password" class="form-input" id="passcodeInput" placeholder="Enter your secure passcode">
            </div>
            <button class="login-btn" id="loginBtn" disabled>Authenticate & Continue</button>
        </div>
    </div>
    
    <!-- Instructions Screen -->
    <div class="container" id="instructionsScreen" style="display:none;">
        <div class="instructions-container">
            <h2 class="instructions-title">Test Guidelines</h2>
            <ul class="instructions-list">
                <li>You have <strong>90 minutes</strong> to complete all 50 questions. The timer will be visible throughout the test.</li>
                <li>This assessment covers eight mathematical domains: Fundamentals, Algebra, Trigonometry, Inequalities, Functions, Exponential/Logarithmic Functions, Statistics, and Probability.</li>
                <li>Each question carries equal weight (1 mark). There is no penalty for incorrect answers.</li>
                <li>Use the question palette to navigate between questions. Answered questions will be highlighted in green.</li>
                <li>You can change your answers at any time before submission by returning to the question.</li>
                <li>Click the "Submit Test" button when you have completed all questions. You can also submit early if needed.</li>
                <li>Do not refresh the page or close your browser during the test, as this will terminate your session.</li>
                <li>After submission, you'll receive detailed solutions for each question to enhance your learning.</li>
            </ul>
            <button class="login-btn" id="beginTestBtn">Commence Test</button>
        </div>
    </div>
    
    <!-- Test Interface -->
    <div class="container" id="testInterface" style="display:none;">
        <div class="questions-panel">
            <div class="question-number" id="questionNumber">Question 1 of 50</div>
            <div class="question-text" id="questionText">
                Let \( z_1 \) and \( z_2 \) be two complex numbers such that \( \overline{z_1} = i \, \overline{z_2} \) and \(\arg \left( \frac{\overline{z_1}}{\overline{z_2}} \right) = \pi\). Then,
            </div>
            
            <div class="options-container" id="optionsContainer">
                <!-- Options will be populated by JavaScript -->
            </div>
            
            <div class="navigation">
                <button class="nav-btn prev" id="prevBtn">
                    <i class="fas fa-arrow-left"></i> Previous
                </button>
                <button class="nav-btn next" id="nextBtn">
                    Next <i class="fas fa-arrow-right"></i>
                </button>
                <button class="nav-btn submit" id="submitBtn" style="display:none;">
                    Submit Test <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
        
        <div class="sidebar">
            <div class="sidebar-title">
                <i class="fas fa-map-signs"></i> Question Navigator
            </div>
            
            <div class="question-grid" id="questionGrid">
                <!-- Question grid will be populated by JavaScript -->
            </div>
            
            <div class="test-info">
                <div class="info-item">
                    <span>Questions:</span>
                    <span>50</span>
                </div>
                <div class="info-item">
                    <span>Answered:</span>
                    <span id="answeredCount">0</span>
                </div>
                <div class="info-item">
                    <span>Remaining:</span>
                    <span id="unansweredCount">50</span>
                </div>
                <div class="info-item">
                    <span>Current:</span>
                    <span id="currentQuestion">1</span>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Results Screen -->
    <div class="container" id="resultsScreen" style="display:none;">
        <div class="results-container">
            <div class="spinner" id="loadingSpinner"></div>
            <div id="resultsContent" style="display:none;">
                <h2 class="results-title">Assessment Results</h2>
                <div class="score-display">Your Score: <span class="score-value" id="scoreDisplay">0/50</span></div>
                
                <div class="solution-section">
                    <h3 class="solution-title">Detailed Solutions</h3>
                    <div id="solutionContainer">
                        <!-- Solutions will be populated by JavaScript -->
                    </div>
                </div>
                
                <div class="modal-content" id="finalModal" style="margin-top:30px;">
                    <h3>You've completed the assessment! Review your solutions to enhance your understanding.</h3>
                    <button class="start-btn" style="margin-top:20px;" onclick="location.reload()">Exit Assessment</button>
                </div>
            </div>
        </div>
    </div>
    
    <footer>
        <p>Â© 2023 Symbiotic Learning. All rights reserved. This assessment is for educational purposes only.</p>
        <p>Unauthorized access or distribution of test content is strictly prohibited.</p>
    </footer>
    
    <script>
        // Hardcoded login credentials
        const VALID_NAME = "Ambika";
        const VALID_PASSCODE = "rant";
        
        // Comprehensive questions covering all topics with proper math formatting
        const questions = [
            // Fundamentals (7 questions)
            {
                id: 1,
                text: "Simplify: \\( \\frac{3}{4} \\div \\frac{2}{5} \\times \\frac{1}{3} + \\left( \\frac{5}{6} - \\frac{1}{2} \\right) \\)",
                options: [
                    "\\( \\frac{1}{2} \\)",
                    "\\( \\frac{3}{4} \\)",
                    "\\( \\frac{5}{8} \\)",
                    "\\( \\frac{7}{12} \\)"
                ],
                answer: 2,
                solution: "First, perform division: \\( \\frac{3}{4} \\div \\frac{2}{5} = \\frac{3}{4} \\times \\frac{5}{2} = \\frac{15}{8} \\). Then multiplication: \\( \\frac{15}{8} \\times \\frac{1}{3} = \\frac{15}{24} = \\frac{5}{8} \\). Next, subtraction in parentheses: \\( \\frac{5}{6} - \\frac{1}{2} = \\frac{5}{6} - \\frac{3}{6} = \\frac{2}{6} = \\frac{1}{3} \\). Finally, add: \\( \\frac{5}{8} + \\frac{1}{3} = \\frac{15}{24} + \\frac{8}{24} = \\frac{23}{24} \\)."
            },
            {
                id: 2,
                text: "What is the value of \\( 3^2 \\times 2^3 \\div 6^1 + \\sqrt{16} - 5 \\)?",
                options: [
                    "6",
                    "8",
                    "10",
                    "12"
                ],
                answer: 0,
                solution: "Calculate step by step: \\( 3^2 = 9 \\), \\( 2^3 = 8 \\), so \\( 9 \\times 8 = 72 \\). \\( 6^1 = 6 \\), so \\( 72 \\div 6 = 12 \\). \\( \\sqrt{16} = 4 \\). Then \\( 12 + 4 - 5 = 11 \\)."
            },
            {
                id: 3,
                text: "Solve for x: \\( 3(2x - 5) + 7 = 4x - 2(3 - x) \\)",
                options: [
                    "x = 4",
                    "x = 5",
                    "x = 6",
                    "x = 7"
                ],
                answer: 0,
                solution: "Expand both sides: Left side: \\( 3 \\times 2x - 3 \\times 5 + 7 = 6x - 15 + 7 = 6x - 8 \\). Right side: \\( 4x - 2 \\times 3 + 2 \\times x = 4x - 6 + 2x = 6x - 6 \\). So equation is \\( 6x - 8 = 6x - 6 \\)."
            },
            {
                id: 4,
                text: "If the probability of event A is 0.4 and event B is 0.5, and they are independent, what is P(A or B)?",
                options: [
                    "0.7",
                    "0.8",
                    "0.9",
                    "0.2"
                ],
                answer: 0,
                solution: "For independent events, P(A or B) = P(A) + P(B) - P(A and B). Since independent, P(A and B) = P(A) Ã— P(B) = 0.4 Ã— 0.5 = 0.2. So P(A or B) = 0.4 + 0.5 - 0.2 = 0.7."
            },
            {
                id: 5,
                text: "What is the mean of the data set: 12, 15, 18, 22, 25, 28?",
                options: [
                    "18.5",
                    "20.0",
                    "20.5",
                    "21.0"
                ],
                answer: 1,
                solution: "Mean = (sum of values) / (number of values) = (12+15+18+22+25+28)/6 = 120/6 = 20."
            },
            {
                id: 6,
                text: "Convert \\( \\frac{3\\pi}{4} \\) radians to degrees.",
                options: [
                    "120Â°",
                    "135Â°",
                    "150Â°",
                    "180Â°"
                ],
                answer: 1,
                solution: "To convert radians to degrees, multiply by 180/Ï€. So \\( \\frac{3\\pi}{4} \\times \\frac{180}{\\pi} = \\frac{3}{4} \\times 180 = 135^{\\circ} \\)."
            },
            {
                id: 7,
                text: "Factorize completely: \\( 6x^2 - 7x - 3 \\)",
                options: [
                    "\\( (2x - 3)(3x + 1) \\)",
                    "\\( (3x - 1)(2x + 3) \\)",
                    "\\( (6x - 1)(x + 3) \\)",
                    "\\( (3x - 3)(2x + 1) \\)"
                ],
                answer: 0,
                solution: "To factor \\( 6x^2 - 7x - 3 \\), find two numbers that multiply to 6Ã—(-3)= -18 and add to -7. The numbers are -9 and 2. So rewrite: \\( 6x^2 -9x +2x -3 = 3x(2x-3) +1(2x-3) = (3x+1)(2x-3) \\)."
            },
            
            // Algebra of Polynomials (6 questions)
            {
                id: 8,
                text: "If the polynomial \\( p(x) = x^3 - 4x^2 + x + 6 \\) has roots a, b, c, what is the value of ab + bc + ca?",
                options: [
                    "1",
                    "2",
                    "3",
                    "4"
                ],
                answer: 0,
                solution: "For a cubic polynomial \\( x^3 + px^2 + qx + r \\), sum of roots a+b+c = -p. Here p(x) = \\( x^3 -4x^2 +x+6 \\), so sum of roots a+b+c = 4. Sum of products two at a time ab+bc+ca = coefficient of x = 1."
            },
            {
                id: 9,
                text: "Divide \\( 2x^4 - 3x^3 + 4x^2 - 5x + 6 \\) by \\( x^2 - 3x + 2 \\)",
                options: [
                    "\\( 2x^2 + 3x + 4 \\)",
                    "\\( 2x^2 + x + 3 \\)",
                    "\\( 2x^2 - x + 2 \\)",
                    "\\( 2x^2 + 3x - 2 \\)"
                ],
                answer: 1,
                solution: "Use polynomial long division. Divide leading terms: \\( 2x^4 / x^2 = 2x^2 \\). Multiply divisor by \\( 2x^2 \\): \\( 2x^2(x^2-3x+2) = 2x^4 -6x^3 +4x^2 \\). Subtract: \\( (2x^4-3x^3+4x^2) - (2x^4-6x^3+4x^2) = 3x^3 \\)."
            },
            {
                id: 10,
                text: "What is the remainder when \\( x^4 - 3x^3 + 2x^2 - 5x + 7 \\) is divided by \\( x - 2 \\)?",
                options: [
                    "5",
                    "7",
                    "9",
                    "11"
                ],
                answer: 0,
                solution: "By Remainder Theorem, remainder is p(2) = \\( 2^4 -3*(2)^3 +2*(2)^2 -5*2 +7 = 16 - 24 + 8 -10 +7 = -3 \\)."
            },
            {
                id: 11,
                text: "If Î± and Î² are roots of \\( x^2 - 5x + 6 = 0 \\), what is \\( \\alpha^2 + \\beta^2 \\)?",
                options: [
                    "13",
                    "15",
                    "17",
                    "19"
                ],
                answer: 0,
                solution: "\\( \\alpha + \\beta = 5 \\), \\( \\alpha\\beta = 6 \\). \\( \\alpha^2 + \\beta^2 = (\\alpha+\\beta)^2 - 2\\alpha\\beta = 25 - 12 = 13 \\)."
            },
            {
                id: 12,
                text: "Solve the system: \\( 2x + 3y = 7 \\), \\( 4x - y = 3 \\)",
                options: [
                    "x=1, y=1",
                    "x=2, y=1",
                    "x=1, y=2",
                    "x=2, y=2"
                ],
                answer: 1,
                solution: "From second equation, y = 4x - 3. Plug into first: \\( 2x + 3(4x-3) = 7 \\) â†’ \\( 2x +12x -9 =7 \\) â†’ \\( 14x=16 \\) â†’ \\( x=16/14=8/7 \\). Then \\( y=4*(8/7)-3=32/7 - 21/7=11/7 \\)."
            },
            {
                id: 13,
                text: "The sum of coefficients of the polynomial \\( (2x - 3)^4 \\) is:",
                options: [
                    "1",
                    "-1",
                    "16",
                    "81"
                ],
                answer: 0,
                solution: "Sum of coefficients is p(1) = \\( (2*1 - 3)^4 = (-1)^4 = 1 \\)."
            },
            
            // Trigonometry (6 questions)
            {
                id: 14,
                text: "If \\( \\sin \\theta = \\frac{3}{5} \\) and Î¸ is in quadrant II, what is \\( \\tan \\theta \\)?",
                options: [
                    "\\( -\\frac{3}{4} \\)",
                    "\\( -\\frac{4}{3} \\)",
                    "\\( \\frac{3}{4} \\)",
                    "\\( \\frac{4}{3} \\)"
                ],
                answer: 0,
                solution: "In quadrant II, sin positive, cos negative. \\( \\sin \\theta = \\frac{3}{5} \\), so opposite=3, hypotenuse=5, adjacent=\\( \\sqrt{5^2-3^2}=\\sqrt{16}=4 \\). But since quadrant II, adjacent is negative, so \\( \\cos \\theta = -\\frac{4}{5} \\). \\( \\tan \\theta = \\frac{\\sin}{\\cos} = \\frac{3/5}{-4/5} = -\\frac{3}{4} \\)."
            },
            {
                id: 15,
                text: "Simplify: \\( \\frac{\\sin(90^\\circ - \\theta) \\cos(180^\\circ + \\theta)}{\\tan(270^\\circ - \\theta) \\sec(360^\\circ - \\theta)} \\)",
                options: [
                    "\\( \\sin \\theta \\)",
                    "\\( \\cos \\theta \\)",
                    "\\( -\\sin \\theta \\)",
                    "\\( -\\cos \\theta \\)"
                ],
                answer: 3,
                solution: "\\( \\sin(90-\\theta) = \\cos \\theta \\), \\( \\cos(180+\\theta) = -\\cos \\theta \\), \\( \\tan(270-\\theta) = \\cot \\theta \\), \\( \\sec(360-\\theta) = \\sec \\theta \\). So expression: \\( \\frac{\\cos \\theta \\cdot (-\\cos \\theta)}{\\cot \\theta \\cdot \\sec \\theta} \\)"
            },
            {
                id: 16,
                text: "Prove that \\( \\frac{1 + \\sin \\theta}{\\cos \\theta} = \\frac{\\cos \\theta}{1 - \\sin \\theta} \\)",
                options: [
                    "Always true",
                    "True only when Î¸=0",
                    "Never true",
                    "True for some Î¸"
                ],
                answer: 0,
                solution: "Cross multiply: \\( (1+\\sin\\theta)(1-\\sin\\theta) = \\cos\\theta \\cdot \\cos\\theta \\) â†’ \\( 1 - \\sin^2\\theta = \\cos^2\\theta \\), which is true by Pythagorean identity."
            },
            {
                id: 17,
                text: "If \\( \\tan \\theta + \\cot \\theta = 2 \\), what is \\( \\tan^2\\theta + \\cot^2\\theta \\)?",
                options: [
                    "2",
                    "4",
                    "6",
                    "8"
                ],
                answer: 0,
                solution: "\\( \\tan \\theta + \\cot \\theta = 2 \\). Square both sides: \\( (\\tan \\theta + \\cot \\theta)^2 = 4 \\) â†’ \\( \\tan^2\\theta + 2 \\tan\\theta \\cot\\theta + \\cot^2\\theta = 4 \\). Since \\( \\tan\\theta \\cot\\theta =1 \\), so \\( \\tan^2\\theta + 2 + \\cot^2\\theta =4 \\) â†’ \\( \\tan^2\\theta + \\cot^2\\theta = 2 \\)."
            },
            {
                id: 18,
                text: "The value of \\( \\sin 75^\\circ \\) is:",
                options: [
                    "\\( \\frac{\\sqrt{6} - \\sqrt{2}}{4} \\)",
                    "\\( \\frac{\\sqrt{6} + \\sqrt{2}}{4} \\)",
                    "\\( \\frac{\\sqrt{3} + 1}{2\\sqrt{2}} \\)",
                    "\\( \\frac{\\sqrt{3} - 1}{2\\sqrt{2}} \\)"
                ],
                answer: 1,
                solution: "\\( \\sin(75) = \\sin(45+30) = \\sin45\\cos30 + \\cos45\\sin30 = \\frac{\\sqrt{2}}{2} \\cdot \\frac{\\sqrt{3}}{2} + \\frac{\\sqrt{2}}{2} \\cdot \\frac{1}{2} = \\frac{\\sqrt{2}}{2} \\left( \\frac{\\sqrt{3} + 1}{2} \\right) = \\frac{\\sqrt{2} (\\sqrt{3} + 1)}{4} = \\frac{\\sqrt{6} + \\sqrt{2}}{4} \\)."
            },
            {
                id: 19,
                text: "Solve for x: \\( 2 \\cos^2x - 3 \\cos x + 1 = 0 \\) for \\( 0 \\leq x \\leq 2\\pi \\)",
                options: [
                    "x=0, Ï€/3, 5Ï€/3",
                    "x=0, Ï€/3, Ï€, 5Ï€/3",
                    "x=Ï€/3, Ï€, 5Ï€/3",
                    "x=0, Ï€"
                ],
                answer: 1,
                solution: "Let \\( u=\\cos x \\), then \\( 2u^2 -3u +1=0 \\). Factors: \\( (2u-1)(u-1)=0 \\). So \\( u=\\frac{1}{2} \\) or \\( u=1 \\). \\( \\cos x =1 \\) â†’ \\( x=0, 2\\pi \\). \\( \\cos x =\\frac{1}{2} \\) â†’ \\( x=\\frac{\\pi}{3}, \\frac{5\\pi}{3} \\)."
            },
            
            // Trigonometry of Right Angle Triangle (6 questions)
            {
                id: 20,
                text: "In a right triangle ABC, right-angled at C, if AB=10 cm, BC=6 cm, what is \\( \\sin A \\)?",
                options: [
                    "\\( \\frac{3}{5} \\)",
                    "\\( \\frac{4}{5} \\)",
                    "\\( \\frac{5}{6} \\)",
                    "\\( \\frac{6}{10} \\)"
                ],
                answer: 0,
                solution: "AC = \\( \\sqrt{AB^2 - BC^2} = \\sqrt{100 - 36} = \\sqrt{64} = 8 \\) cm. \\( \\sin A = \\frac{\\text{opposite}}{\\text{hypotenuse}} = \\frac{BC}{AB} = \\frac{6}{10} = \\frac{3}{5} \\)."
            },
            {
                id: 21,
                text: "A ladder 5 m long leans against a wall. If the foot of the ladder is 3 m from the wall, how high up the wall does the ladder reach?",
                options: [
                    "3 m",
                    "4 m",
                    "5 m",
                    "6 m"
                ],
                answer: 1,
                solution: "By Pythagoras, height \\( h = \\sqrt{5^2 - 3^2} = \\sqrt{25-9} = \\sqrt{16} = 4 \\) m."
            },
            {
                id: 22,
                text: "From the top of a 30 m high tower, the angle of depression of a car is 45Â°. How far is the car from the tower?",
                options: [
                    "15 m",
                    "20 m",
                    "30 m",
                    "\\( 30\\sqrt{3} \\) m"
                ],
                answer: 2,
                solution: "Angle of depression equals angle of elevation. So \\( \\tan 45^\\circ = \\frac{\\text{opposite}}{\\text{adjacent}} = \\frac{\\text{height}}{\\text{distance}} = \\frac{30}{d} \\). \\( \\tan 45^\\circ=1 \\), so \\( 1=\\frac{30}{d} \\) â†’ \\( d=30 \\) m."
            },
            {
                id: 23,
                text: "In a right triangle, if one acute angle is twice the other, what is the ratio of the opposite side to the hypotenuse?",
                options: [
                    "1:2",
                    "1:âˆš3",
                    "âˆš3:2",
                    "1:âˆš2"
                ],
                answer: 2,
                solution: "Let angles be Î¸ and 2Î¸. Then \\( \\theta + 2\\theta = 90^\\circ \\) â†’ \\( \\theta=30^\\circ \\), \\( 2\\theta=60^\\circ \\). So opposite to 60Â° is \\( \\frac{\\sqrt{3}}{2} \\) hypotenuse, so ratio \\( \\sqrt{3}:2 \\)."
            },
            {
                id: 24,
                text: "The sides of a right triangle are in arithmetic progression. If the shortest side is 6 cm, what is the hypotenuse?",
                options: [
                    "10 cm",
                    "12 cm",
                    "15 cm",
                    "18 cm"
                ],
                answer: 0,
                solution: "Sides: a-d, a, a+d. Shortest is a-d=6. Hypotenuse is the largest, so a+d. By Pythagoras: \\( (a-d)^2 + a^2 = (a+d)^2 \\) â†’ \\( 36 + a^2 = a^2 + 2ad + d^2 \\) â†’ \\( 36 = 2ad + d^2 \\). Also, \\( a = d+6 \\). Solve: \\( 36 = 2(d+6)d + d^2 = 3d^2 + 12d \\) â†’ \\( d^2 +4d -12=0 \\). Solutions: d=2 or d=-6. Valid: d=2, a=8, hypotenuse=10 cm."
            },
            {
                id: 25,
                text: "In Î”ABC, right-angled at B, if \\( \\tan C = \\frac{1}{\\sqrt{3}} \\), what is the value of \\( \\sin A \\)?",
                options: [
                    "\\( \\frac{1}{2} \\)",
                    "\\( \\frac{1}{\\sqrt{2}} \\)",
                    "\\( \\frac{\\sqrt{3}}{2} \\)",
                    "1"
                ],
                answer: 2,
                solution: "\\( \\tan C = \\frac{\\text{opposite}}{\\text{adjacent}} = \\frac{AB}{BC} = \\frac{1}{\\sqrt{3}} \\). So let AB=1, BC=\\( \\sqrt{3} \\), then AC=\\( \\sqrt{1+3}=2 \\). \\( \\sin A = \\frac{\\text{opposite}}{\\text{hypotenuse}} = \\frac{BC}{AC} = \\frac{\\sqrt{3}}{2} \\)."
            },
            
            // Inequalities (5 questions)
            {
                id: 26,
                text: "Solve the inequality: \\( 2x - 5 < 3x + 7 \leq 4x - 1 \\)",
                options: [
                    "\\( -12 \\leq x < 12 \\)",
                    "\\( x \\geq 8 \\)",
                    "\\( 8 \\leq x < 12 \\)",
                    "\\( x > 12 \\)"
                ],
                answer: 2,
                solution: "Split into two inequalities: \\( 2x - 5 < 3x + 7 \\) â†’ \\( -5 - 7 < 3x - 2x \\) â†’ \\( -12 < x \\). And \\( 3x + 7 \\leq 4x - 1 \\) â†’ \\( 7 + 1 \\leq 4x - 3x \\) â†’ \\( 8 \\leq x \\). Combining: \\( 8 \\leq x < 12 \\)"
            },
            {
                id: 27,
                text: "Which of the following is the solution to \\( |2x - 3| > 5 \\)?",
                options: [
                    "\\( x < -1 \\) or \\( x > 4 \\)",
                    "\\( -1 < x < 4 \\)",
                    "\\( x < 1 \\) or \\( x > 4 \\)",
                    "\\( x > 4 \\)"
                ],
                answer: 0,
                solution: "Absolute inequality: \\( |2x - 3| > 5 \\) means \\( 2x - 3 < -5 \\) or \\( 2x - 3 > 5 \\). First: \\( 2x < -2 \\) â†’ \\( x < -1 \\). Second: \\( 2x > 8 \\) â†’ \\( x > 4 \\). So \\( x < -1 \\) or \\( x > 4 \\)"
            },
            {
                id: 28,
                text: "Solve the inequality: \\( \\frac{x-2}{x+3} \\leq 0 \\)",
                options: [
                    "\\( -3 < x \\leq 2 \\)",
                    "\\( x \\leq -3 \\) or \\( x \\geq 2 \\)",
                    "\\( x < -3 \\) or \\( x \\geq 2 \\)",
                    "\\( -3 \\leq x \\leq 2 \\)"
                ],
                answer: 0,
                solution: "Critical points x=2 and x=-3. Test intervals: For x < -3, say x=-4: \\( \\frac{-6}{-1} = 6 > 0 \\) â†’ not satisfied. For -3 < x < 2, say x=0: \\( \\frac{-2}{3} < 0 \\) â†’ satisfied. For x > 2, say x=3: \\( \\frac{1}{6} > 0 \\) â†’ not satisfied. At x=2: 0 â‰¤ 0 â†’ satisfied. At x=-3 undefined. So \\( -3 < x \\leq 2 \\)"
            },
            {
                id: 29,
                text: "What is the solution set of \\( x^2 - 4x - 5 > 0 \\)?",
                options: [
                    "\\( x < -1 \\) or \\( x > 5 \\)",
                    "\\( -1 < x < 5 \\)",
                    "\\( x < -5 \\) or \\( x > 1 \\)",
                    "\\( -5 < x < 1 \\)"
                ],
                answer: 0,
                solution: "Factor: \\( (x-5)(x+1) > 0 \\). Critical points x=5, x=-1. Parabola opens upwards, so positive outside roots: \\( x < -1 \\) or \\( x > 5 \\)"
            },
            {
                id: 30,
                text: "The inequality \\( 3x - 7 \\geq 2x + 1 \\) is equivalent to:",
                options: [
                    "\\( x \\geq 8 \\)",
                    "\\( x \\leq 8 \\)",
                    "\\( x \\geq 6 \\)",
                    "\\( x \\leq 6 \\)"
                ],
                answer: 0,
                solution: "Solve: \\( 3x - 7 \\geq 2x + 1 \\) â†’ \\( 3x - 2x \\geq 1 + 7 \\) â†’ \\( x \\geq 8 \\)"
            },
            
            // Functions (5 questions)
            {
                id: 31,
                text: "If \\( f(x) = 2x^2 - 3x + 1 \\), what is \\( f(f(1)) \\)?",
                options: [
                    "1",
                    "3",
                    "9",
                    "15"
                ],
                answer: 3,
                solution: "First, \\( f(1) = 2(1)^2 - 3(1) + 1 = 2 - 3 + 1 = 0 \\). Then \\( f(f(1)) = f(0) = 2(0)^2 - 3(0) + 1 = 1 \\)"
            },
            {
                id: 32,
                text: "The domain of \\( f(x) = \\sqrt{4 - x^2} \\) is:",
                options: [
                    "\\( [-2, 2] \\)",
                    "\\( (-\infty, -2) \\cup (2, \infty) \\)",
                    "\\( [-4, 4] \\)",
                    "\\( (-\infty, -4) \\cup (4, \infty) \\)"
                ],
                answer: 0,
                solution: "The expression under square root must be non-negative: \\( 4 - x^2 \\geq 0 \\) â†’ \\( x^2 \\leq 4 \\) â†’ \\( -2 \\leq x \\leq 2 \\)"
            },
            {
                id: 33,
                text: "If \\( f(x) = x + 2 \\) and \\( g(x) = 3x - 1 \\), what is \\( (f \\circ g)(x) \\)?",
                options: [
                    "\\( 3x + 1 \\)",
                    "\\( 3x + 2 \\)",
                    "\\( 4x + 1 \\)",
                    "\\( 3x - 1 \\)"
                ],
                answer: 0,
                solution: "\\( (f \\circ g)(x) = f(g(x)) = f(3x-1) = (3x-1) + 2 = 3x + 1 \\)"
            },
            {
                id: 34,
                text: "Which function is the inverse of \\( f(x) = 2x - 3 \\)?",
                options: [
                    "\\( f^{-1}(x) = \\frac{x + 3}{2} \\)",
                    "\\( f^{-1}(x) = \\frac{x - 3}{2} \\)",
                    "\\( f^{-1}(x) = \\frac{x}{2} + 3 \\)",
                    "\\( f^{-1}(x) = 2x + 3 \\)"
                ],
                answer: 0,
                solution: "Set y = 2x - 3. Swap x and y: x = 2y - 3. Solve for y: x + 3 = 2y â†’ y = \\( \\frac{x + 3}{2} \\)"
            },
            {
                id: 35,
                text: "If \\( f(x) = \\frac{1}{x-1} \\), what is \\( f(f(x)) \\)?",
                options: [
                    "\\( \\frac{x-1}{x-2} \\)",
                    "\\( \\frac{x-1}{2-x} \\)",
                    "\\( x \\)",
                    "\\( \\frac{1}{x} \\)"
                ],
                answer: 1,
                solution: "\\( f(f(x)) = f\\left( \\frac{1}{x-1} \\right) = \\frac{1}{\\frac{1}{x-1} - 1} = \\frac{1}{\\frac{1 - (x-1)}{x-1}} = \\frac{1}{\\frac{2-x}{x-1}} = \\frac{x-1}{2-x} \\)"
            },
            
            // Exponential and Logarithmic Functions (5 questions)
            {
                id: 36,
                text: "Solve for x: \\( 3^{x-1} = 27^{2x} \\)",
                options: [
                    "\\( x = -\\frac{1}{3} \\)",
                    "\\( x = -\\frac{1}{2} \\)",
                    "\\( x = 0 \\)",
                    "\\( x = \\frac{1}{3} \\)"
                ],
                answer: 0,
                solution: "Write 27 as 3^3: \\( 3^{x-1} = (3^3)^{2x} = 3^{6x} \\). Since bases equal, exponents equal: \\( x - 1 = 6x \\) â†’ \\( -1 = 5x \\) â†’ \\( x = -\\frac{1}{5} \\)"
            },
            {
                id: 37,
                text: "Simplify: \\( \\log_2 16 + \\log_3 9 - \\log_5 25 \\)",
                options: [
                    "2",
                    "3",
                    "4",
                    "5"
                ],
                answer: 2,
                solution: "\\( \\log_2 16 = \\log_2 2^4 = 4 \\), \\( \\log_3 9 = \\log_3 3^2 = 2 \\), \\( \\log_5 25 = \\log_5 5^2 = 2 \\). So 4 + 2 - 2 = 4"
            },
            {
                id: 38,
                text: "Solve for x: \\( \\log_2 (x) + \\log_2 (x-2) = 3 \\)",
                options: [
                    "x=4",
                    "x=6",
                    "x=8",
                    "x=10"
                ],
                answer: 0,
                solution: "Combine logs: \\( \\log_2 [x(x-2)] = 3 \\) â†’ \\( x(x-2) = 2^3 = 8 \\). So \\( x^2 - 2x - 8 = 0 \\). Factors: (x-4)(x+2)=0. Solutions x=4 or x=-2. But domain requires x>0 and x-2>0 â†’ x>2. So x=4"
            },
            {
                id: 39,
                text: "Which expression is equivalent to \\( \\ln (x^2 y^3) - 2 \\ln z \\)?",
                options: [
                    "\\( \\ln \\left( \\frac{x^2 y^3}{z^2} \\right) \\)",
                    "\\( \\ln (x^2 y^3 z^{-2}) \\)",
                    "\\( 2 \\ln x + 3 \\ln y - 2 \\ln z \\)",
                    "All of the above"
                ],
                answer: 3,
                solution: "Using log properties: \\( \\ln (x^2 y^3) = \\ln x^2 + \\ln y^3 = 2 \\ln x + 3 \\ln y \\). Then subtract \\( 2 \\ln z = \\ln z^2 \\). So expression is \\( 2 \\ln x + 3 \\ln y - 2 \\ln z \\). Also, \\( \\ln \\left( \\frac{x^2 y^3}{z^2} \\right) = \\ln (x^2 y^3 z^{-2}) \\) which is equivalent."
            },
            {
                id: 40,
                text: "Solve for x: \\( e^{2x} - 3e^x + 2 = 0 \\)",
                options: [
                    "x=0, x=ln2",
                    "x=0, x=ln3",
                    "x=ln1, x=ln2",
                    "x=ln2, x=ln3"
                ],
                answer: 0,
                solution: "Let \\( u = e^x \\). Then equation: \\( u^2 - 3u + 2 = 0 \\). Factors: (u-1)(u-2)=0. So u=1 or u=2. Thus \\( e^x = 1 \\) â†’ x=0, \\( e^x = 2 \\) â†’ x=ln2"
            },
            
            // Statistics (5 questions)
            {
                id: 41,
                text: "The mean of five numbers is 20. If one number is removed, the mean becomes 18. What was the removed number?",
                options: [
                    "22",
                    "24",
                    "26",
                    "28"
                ],
                answer: 2,
                solution: "Sum of five numbers: 5 Ã— 20 = 100. After removal, sum of four numbers: 4 Ã— 18 = 72. So removed number is 100 - 72 = 28"
            },
            {
                id: 42,
                text: "What is the median of the data: 12, 15, 18, 22, 25, 28, 31?",
                options: [
                    "18",
                    "20",
                    "22",
                    "25"
                ],
                answer: 2,
                solution: "7 values, so median is the 4th value: 22"
            },
            {
                id: 43,
                text: "The standard deviation of a data set is 4. If each value is multiplied by 3, what is the new standard deviation?",
                options: [
                    "4",
                    "12",
                    "16",
                    "36"
                ],
                answer: 1,
                solution: "When all values multiplied by k, standard deviation multiplied by |k|. So 4 Ã— 3 = 12"
            },
            {
                id: 44,
                text: "In a normal distribution with mean 50 and standard deviation 10, approximately what percentage of data falls between 40 and 60?",
                options: [
                    "50%",
                    "68%",
                    "95%",
                    "99.7%"
                ],
                answer: 1,
                solution: "40 to 60 is mean Â±1 standard deviation. In normal distribution, about 68% of data within Â±1Ïƒ"
            },
            {
                id: 45,
                text: "The correlation coefficient r for a set of data is -0.85. This indicates:",
                options: [
                    "Strong positive correlation",
                    "Weak positive correlation",
                    "Strong negative correlation",
                    "Weak negative correlation"
                ],
                answer: 2,
                solution: "|r| close to 1 indicates strong correlation. Negative sign indicates negative correlation."
            },
            
            // Probability (5 questions)
            {
                id: 46,
                text: "A fair die is rolled. What is the probability of getting a prime number?",
                options: [
                    "\\( \\frac{1}{2} \\)",
                    "\\( \\frac{1}{3} \\)",
                    "\\( \\frac{1}{6} \\)",
                    "\\( \\frac{2}{3} \\)"
                ],
                answer: 0,
                solution: "Prime numbers: 2,3,5 â†’ three outcomes. Total outcomes: 6. Probability = 3/6 = 1/2"
            },
            {
                id: 47,
                text: "Two cards are drawn from a deck of 52 without replacement. What is the probability both are aces?",
                options: [
                    "\\( \\frac{1}{221} \\)",
                    "\\( \\frac{4}{52} \\times \\frac{3}{51} \\)",
                    "\\( \\frac{1}{169} \\)",
                    "\\( \\frac{4}{52} \\times \\frac{4}{51} \\)"
                ],
                answer: 1,
                solution: "First ace: 4/52, second ace: 3/51. So probability = \\( \\frac{4}{52} \\times \\frac{3}{51} = \\frac{1}{221} \\)"
            },
            {
                id: 48,
                text: "A bag contains 5 red and 7 blue marbles. Two are drawn at random. What is the probability they are the same color?",
                options: [
                    "\\( \\frac{31}{66} \\)",
                    "\\( \\frac{35}{66} \\)",
                    "\\( \\frac{5}{12} \\)",
                    "\\( \\frac{7}{12} \\)"
                ],
                answer: 0,
                solution: "P(both red) = \\( \\frac{5}{12} \\times \\frac{4}{11} = \\frac{20}{132} \\). P(both blue) = \\( \\frac{7}{12} \\times \\frac{6}{11} = \\frac{42}{132} \\). Total = \\( \\frac{20}{132} + \\frac{42}{132} = \\frac{62}{132} = \\frac{31}{66} \\)"
            },
            {
                id: 49,
                text: "In a binomial experiment with n=5 trials and p=0.4, what is P(exactly 3 successes)?",
                options: [
                    "0.2304",
                    "0.3456",
                    "0.1152",
                    "0.2592"
                ],
                answer: 0,
                solution: "Binomial formula: \\( P(k) = C(n,k) p^k (1-p)^{n-k} \\). \\( C(5,3) = 10 \\), \\( p^3 = (0.4)^3 = 0.064 \\), \\( (1-p)^2 = (0.6)^2 = 0.36 \\). So 10 Ã— 0.064 Ã— 0.36 = 0.2304"
            },
            {
                id: 50,
                text: "If P(A) = 0.3, P(B) = 0.5, and P(A and B) = 0.15, are A and B independent?",
                options: [
                    "Yes",
                    "No",
                    "Cannot be determined",
                    "Only if mutually exclusive"
                ],
                answer: 0,
                solution: "Check if P(A) Ã— P(B) = P(A and B): 0.3 Ã— 0.5 = 0.15. Yes, equal, so independent."
            }
        ];
        
        // State management
        let currentQuestionIndex = 0;
        let userAnswers = new Array(questions.length).fill(null);
        let testStarted = false;
        let totalSeconds = 90 * 60; // 90 minutes
        let timerInterval;
        
        // DOM Elements with null checks
        const welcomeModal = document.getElementById('welcomeModal');
        const startBtn = document.getElementById('startBtn');
        const loginScreen = document.getElementById('loginScreen');
        const loginBtn = document.getElementById('loginBtn');
        const nameInput = document.getElementById('nameInput');
        const passcodeInput = document.getElementById('passcodeInput');
        const instructionsScreen = document.getElementById('instructionsScreen');
        const beginTestBtn = document.getElementById('beginTestBtn');
        const testInterface = document.getElementById('testInterface');
        const timerContainer = document.getElementById('timerContainer');
        const timeDisplay = document.getElementById('time');
        const progressBar = document.getElementById('progressBar');
        const questionNumber = document.getElementById('questionNumber');
        const questionText = document.getElementById('questionText');
        const optionsContainer = document.getElementById('optionsContainer');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const submitBtn = document.getElementById('submitBtn');
        const questionGrid = document.getElementById('questionGrid');
        const answeredCount = document.getElementById('answeredCount');
        const unansweredCount = document.getElementById('unansweredCount');
        const currentQuestion = document.getElementById('currentQuestion');
        const resultsScreen = document.getElementById('resultsScreen');
        const loadingSpinner = document.getElementById('loadingSpinner');
        const resultsContent = document.getElementById('resultsContent');
        const scoreDisplay = document.getElementById('scoreDisplay');
        const solutionContainer = document.getElementById('solutionContainer');
        
        // Initialize the test
        function initTest() {
            if (!questionGrid) return;
            
            // Create question grid
            questionGrid.innerHTML = '';
            for (let i = 0; i < questions.length; i++) {
                const gridItem = document.createElement('div');
                gridItem.className = 'grid-item';
                if (i === 0) gridItem.classList.add('current');
                gridItem.textContent = i + 1;
                gridItem.addEventListener('click', () => navigateToQuestion(i));
                questionGrid.appendChild(gridItem);
            }
            
            // Load first question
            loadQuestion(currentQuestionIndex);
        }
        
        // Load a question and render math
        function loadQuestion(index) {
            if (!questionNumber || !questionText || !optionsContainer || 
                !currentQuestion || !prevBtn || !nextBtn || !submitBtn || !questionGrid) {
                return;
            }
            
            const question = questions[index];
            questionNumber.textContent = `Question ${index + 1} of ${questions.length}`;
            questionText.innerHTML = question.text;
            currentQuestion.textContent = index + 1;
            
            // Clear previous options
            optionsContainer.innerHTML = '';
            
            // Create new options
            question.options.forEach((option, i) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                if (userAnswers[index] === i) {
                    optionElement.classList.add('selected');
                }
                
                const optionLabel = document.createElement('span');
                optionLabel.className = 'option-label';
                optionLabel.textContent = String.fromCharCode(65 + i); // A, B, C, D
                
                optionElement.appendChild(optionLabel);
                optionElement.appendChild(document.createTextNode(option));
                
                optionElement.addEventListener('click', () => selectOption(i));
                optionsContainer.appendChild(optionElement);
            });
            
            // Update navigation buttons
            prevBtn.disabled = index === 0;
            nextBtn.style.display = index === questions.length - 1 ? 'none' : 'flex';
            submitBtn.style.display = index === questions.length - 1 ? 'flex' : 'none';
            
            // Update question grid
            const gridItems = document.querySelectorAll('.grid-item');
            gridItems.forEach((item, i) => {
                item.classList.remove('current');
                if (userAnswers[i] !== null) {
                    item.classList.add('answered');
                } else {
                    item.classList.remove('answered');
                }
            });
            gridItems[index].classList.add('current');
            
            // Update counters
            if (answeredCount && unansweredCount) {
                const answered = userAnswers.filter(answer => answer !== null).length;
                answeredCount.textContent = answered;
                unansweredCount.textContent = questions.length - answered;
            }
            
            // Re-render MathJax for the new question
            if (MathJax.typesetPromise) {
                MathJax.typesetPromise([questionText, optionsContainer]).catch((err) => {
                    console.log('MathJax typeset error:', err);
                });
            }
        }
        
        // Select an option
        function selectOption(optionIndex) {
            userAnswers[currentQuestionIndex] = optionIndex;
            loadQuestion(currentQuestionIndex);
        }
        
        // Navigate to a question
        function navigateToQuestion(index) {
            currentQuestionIndex = index;
            loadQuestion(index);
        }
        
        // Timer function
        function startTimer() {
            if (!timeDisplay || !progressBar) return;
            
            timerInterval = setInterval(() => {
                totalSeconds--;
                const minutes = Math.floor(totalSeconds / 60);
                const seconds = totalSeconds % 60;
                
                timeDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                // Update progress bar
                const progressPercentage = (totalSeconds / (90 * 60)) * 100;
                progressBar.style.width = `${progressPercentage}%`;
                
                // Color change when time is running out
                if (totalSeconds < 10 * 60) { // Less than 10 minutes
                    progressBar.style.background = 'linear-gradient(135deg, var(--secondary), #b71c1c)';
                }
                
                if (totalSeconds <= 0) {
                    clearInterval(timerInterval);
                    submitTest();
                }
            }, 1000);
        }
        
        // Submit test
        function submitTest() {
            if (!testInterface || !resultsScreen || !loadingSpinner || 
                !resultsContent || !scoreDisplay || !solutionContainer) {
                return;
            }
            
            clearInterval(timerInterval);
            testInterface.style.display = 'none';
            resultsScreen.style.display = 'flex';
            
            // Show loading spinner
            setTimeout(() => {
                if (loadingSpinner) loadingSpinner.style.display = 'none';
                if (resultsContent) resultsContent.style.display = 'block';
                
                // Calculate score
                let score = 0;
                questions.forEach((q, i) => {
                    if (userAnswers[i] === q.answer) {
                        score++;
                    }
                });
                
                // Display score
                if (scoreDisplay) {
                    scoreDisplay.innerHTML = `${score}<span style="font-size:2rem;">/</span>${questions.length}`;
                }
                
                // Populate solutions
                if (solutionContainer) {
                    solutionContainer.innerHTML = '';
                    questions.forEach((q, i) => {
                        const solutionDiv = document.createElement('div');
                        solutionDiv.className = 'solution-content';
                        
                        const solTitle = document.createElement('h4');
                        solTitle.textContent = `Question ${i+1}: ${q.text}`;
                        solTitle.style.color = 'var(--primary)';
                        solTitle.style.marginBottom = '10px';
                        
                        const solText = document.createElement('div');
                        solText.innerHTML = `<strong>Solution:</strong> ${q.solution}`;
                        
                        solutionDiv.appendChild(solTitle);
                        solutionDiv.appendChild(solText);
                        solutionContainer.appendChild(solutionDiv);
                    });
                    
                    // Render math in solutions
                    if (MathJax.typesetPromise) {
                        MathJax.typesetPromise([solutionContainer]).catch((err) => {
                            console.log('MathJax typeset error:', err);
                        });
                    }
                }
            }, 2000);
        }
        
        // Event listeners
        if (startBtn) {
            startBtn.addEventListener('click', () => {
                if (!welcomeModal || !loginScreen) return;
                
                welcomeModal.style.opacity = '0';
                setTimeout(() => {
                    welcomeModal.style.display = 'none';
                    loginScreen.style.display = 'flex';
                }, 300);
            });
        }
        
        if (nameInput && passcodeInput) {
            nameInput.addEventListener('input', validateLogin);
            passcodeInput.addEventListener('input', validateLogin);
        }
        
        function validateLogin() {
            if (loginBtn) {
                loginBtn.disabled = !(nameInput.value.trim() && passcodeInput.value.trim());
            }
        }
        
        if (loginBtn) {
            loginBtn.addEventListener('click', () => {
                if (!loginScreen || !instructionsScreen) return;
                
                if (nameInput.value.trim() === VALID_NAME && passcodeInput.value.trim() === VALID_PASSCODE) {
                    loginScreen.style.display = 'none';
                    instructionsScreen.style.display = 'flex';
                } else {
                    alert("Invalid credentials. Please try again.");
                }
            });
        }
        
        if (beginTestBtn) {
            beginTestBtn.addEventListener('click', () => {
                if (!instructionsScreen || !testInterface || !timerContainer) return;
                
                instructionsScreen.style.display = 'none';
                testInterface.style.display = 'flex';
                timerContainer.style.display = 'flex';
                testStarted = true;
                startTimer();
                initTest();
            });
        }
        
        if (prevBtn) {
            prevBtn.addEventListener('click', () => {
                if (currentQuestionIndex > 0) {
                    currentQuestionIndex--;
                    loadQuestion(currentQuestionIndex);
                }
            });
        }
        
        if (nextBtn) {
            nextBtn.addEventListener('click', () => {
                if (currentQuestionIndex < questions.length - 1) {
                    currentQuestionIndex++;
                    loadQuestion(currentQuestionIndex);
                }
            });
        }
        
        if (submitBtn) {
            submitBtn.addEventListener('click', () => {
                if (confirm('Are you sure you want to submit your test? You cannot change your answers after submission.')) {
                    submitTest();
                }
            });
        }
        
        // Initialize the app
        if (welcomeModal) {
            welcomeModal.style.display = 'flex';
        }
    </script>
</body>
</html>
